(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59d1f6e2"],{"08a9":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticStyle:{height:"960px",border:"1px solid #eee"}},[r("adbar"),r("el-container",[r("el-header",{staticStyle:{"text-align":"right","font-size":"12px"}},[r("adheader")],1),r("el-main",{staticClass:"main"},[r("el-form",{ref:"addForm",staticClass:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"照片"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"#","http-request":e.httpRequest,"show-file-list":!1,"before-upload":e.beforeAvatarUpload}},[e.addForm.userinfoImg?r("img",{staticClass:"avatar",attrs:{src:e.addForm.userinfoImg}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),r("el-form-item",{attrs:{label:"用户名",prop:"name"}},[r("el-input",{model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[r("el-input",{model:{value:e.addForm.pwd,callback:function(t){e.$set(e.addForm,"pwd",t)},expression:"addForm.pwd"}})],1),r("el-form-item",{attrs:{label:"电子邮箱",prop:"email"}},[r("el-input",{model:{value:e.addForm.email,callback:function(t){e.$set(e.addForm,"email",t)},expression:"addForm.email"}})],1),r("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[r("el-input",{model:{value:e.addForm.phone,callback:function(t){e.$set(e.addForm,"phone",t)},expression:"addForm.phone"}})],1),r("el-form-item",{attrs:{label:"性别",prop:"sex"}},[r("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.addForm.sex,callback:function(t){e.$set(e.addForm,"sex",t)},expression:"addForm.sex"}},[r("el-option",{attrs:{label:"男",value:"男"}}),r("el-option",{attrs:{label:"女",value:"女"}})],1)],1),r("el-form-item",{attrs:{label:"出生年月日"}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{prop:"birthday"}},[r("el-date-picker",{staticStyle:{width:"240px"},attrs:{type:"datetime",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},model:{value:e.addForm.birthday,callback:function(t){e.$set(e.addForm,"birthday",t)},expression:"addForm.birthday"}})],1)],1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("添加用户")]),r("el-button",{on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置数据")])],1)],1)],1)],1)],1)},n=[],o=(r("b0c0"),r("a9e3"),r("8ba4"),r("6f30")),i=r("8385"),s={inject:["reload"],components:{adbar:o["a"],adheader:i["a"]},data:function(){var e=this,t=function(t,r,a){var n=JSON.stringify({userinfoName:e.addForm.name});e.$axios.post("/user/duplicate",n).then((function(t){"error"===t.data?e.duplicate=!0:"success"===t.data&&(e.duplicate=!1)})).catch((function(e){return console.log("err",e),e})),""===r?a(new Error("请输入用户名")):e.duplicate?(a(new Error("用户名重复")),e.duplicate=!1):a()},r=function(e,t,r){var a=/^1[3|4|5|6|7|8][0-9]{9}$/;t?setTimeout((function(){Number.isInteger(+t)?a.test(t)?r():r(new Error("电话号码格式不正确")):r(new Error("请输入数字值"))}),100):r()};return{adminName:"",duplicate:"",addForm:{userinfoImg:"",name:"",pwd:"",email:"",phone:"",sex:"",birthday:""},rules:{name:[{required:!0,validator:t,trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"}],email:[{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{validator:r,trigger:"blur"}]}}},created:function(){this.adminName=sessionStorage.getItem("adminName")},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(e){var r=JSON.stringify({userinfoName:t.addForm.name,userinfoPwd:t.addForm.pwd,userinfoEmail:t.addForm.email,userinfoPhone:t.addForm.phone,userinfoSex:t.addForm.sex,userinfoBirthday:t.addForm.birthday,userinfoImg:t.addForm.userinfoImg});console.log("这是添加用户信息："+r),t.$axios.post("/user/insertuser",r).then((function(e){"success"===e.data?t.reload():"error"===e.data&&t.$alert("发生了意料之外的错误","提示",{confirmButtonText:"确定",type:"warning"})})).catch((function(e){return console.log("err",e),e}))}}))},resetForm:function(e){this.$refs[e].resetFields()},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,r=e.size/1024/1024<2;return t||this.$message.error("上传头像图片只能是 JPG 格式!"),r||this.$message.error("上传头像图片大小不能超过 2MB!"),t&&r},httpRequest:function(e){var t=this,r=new FileReader,a=e.file;r.readAsDataURL(a),r.onload=function(){console.log("file 转 base64结果："+r.result),t.addForm.userinfoImg=r.result}}}},l=s,u=(r("3cb5"),r("2877")),d=Object(u["a"])(l,a,n,!1,null,null,null);t["default"]=d.exports},"3cb5":function(e,t,r){"use strict";var a=r("a585"),n=r.n(a);n.a},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){var a=r("1d80"),n=r("5899"),o="["+n+"]",i=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),l=function(e){return function(t){var r=String(a(t));return 1&e&&(r=r.replace(i,"")),2&e&&(r=r.replace(s,"")),r}};e.exports={start:l(1),end:l(2),trim:l(3)}},"5e89":function(e,t,r){var a=r("861d"),n=Math.floor;e.exports=function(e){return!a(e)&&isFinite(e)&&n(e)===e}},"6f30":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[r("el-menu",{attrs:{"default-openeds":["1","2","3"],router:""}},[r("el-submenu",{attrs:{index:"1"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-s-goods"}),e._v("商品管理 ")]),r("el-menu-item-group",[r("el-menu-item",{attrs:{index:"/ad_game"}},[e._v("商品列表")]),r("el-menu-item",{attrs:{index:"/add_game"}},[e._v("添加商品")]),r("el-menu-item",{attrs:{index:"/game_photo"}},[e._v("图表")])],1)],2),r("el-submenu",{attrs:{index:"2"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-s-order"}),e._v("其他管理 ")]),r("el-menu-item-group",[r("el-menu-item",{attrs:{index:"/ad_post"}},[e._v("帖子列表")]),r("el-menu-item",{attrs:{index:"/ad_comment"}},[e._v("评论列表")]),r("el-menu-item",{attrs:{index:"/ad_order"}},[e._v("订单列表")])],1)],2),r("el-submenu",{attrs:{index:"3"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-s-custom"}),e._v("用户管理 ")]),r("el-menu-item-group",[r("el-menu-item",{attrs:{index:"/ad_userinfo"}},[e._v("用户列表")]),r("el-menu-item",{attrs:{index:"/add_user"}},[e._v("添加用户")]),r("el-menu-item",{attrs:{index:"/user_photo"}},[e._v("图表")])],1)],2)],1)],1)},n=[],o={},i=o,s=(r("965c"),r("2877")),l=Object(s["a"])(i,a,n,!1,null,null,null);t["a"]=l.exports},7156:function(e,t,r){var a=r("861d"),n=r("d2bb");e.exports=function(e,t,r){var o,i;return n&&"function"==typeof(o=t.constructor)&&o!==r&&a(i=o.prototype)&&i!==r.prototype&&n(e,i),e}},8385:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("span",{staticStyle:{"font-size":"16px"}},[e._v(e._s(e.adminName)+" ")]),e.adminName?r("el-button",{staticStyle:{color:"red"},attrs:{type:"text"},on:{click:function(t){return e.out()}}},[e._v("| 退出")]):e._e(),e.adminName?e._e():r("el-button",{staticStyle:{color:"red"},attrs:{type:"text"},on:{click:function(t){return e.out()}}},[e._v("登陆")])],1)},n=[],o={data:function(){return{adminName:""}},created:function(){this.adminName=sessionStorage.getItem("adminName")},methods:{out:function(){this.$router.push({path:"/ad_login"}),sessionStorage.removeItem("adminName")}}},i=o,s=r("2877"),l=Object(s["a"])(i,a,n,!1,null,null,null);t["a"]=l.exports},"8ba4":function(e,t,r){var a=r("23e7"),n=r("5e89");a({target:"Number",stat:!0},{isInteger:n})},"965c":function(e,t,r){"use strict";var a=r("db58"),n=r.n(a);n.a},a585:function(e,t,r){},a9e3:function(e,t,r){"use strict";var a=r("83ab"),n=r("da84"),o=r("94ca"),i=r("6eeb"),s=r("5135"),l=r("c6b6"),u=r("7156"),d=r("c04e"),c=r("d039"),m=r("7c73"),f=r("241c").f,p=r("06cf").f,b=r("9bf2").f,h=r("58a8").trim,g="Number",v=n[g],F=v.prototype,x=l(m(F))==g,_=function(e){var t,r,a,n,o,i,s,l,u=d(e,!1);if("string"==typeof u&&u.length>2)if(u=h(u),t=u.charCodeAt(0),43===t||45===t){if(r=u.charCodeAt(2),88===r||120===r)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+u}for(o=u.slice(2),i=o.length,s=0;s<i;s++)if(l=o.charCodeAt(s),l<48||l>n)return NaN;return parseInt(o,a)}return+u};if(o(g,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var y,N=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof N&&(x?c((function(){F.valueOf.call(r)})):l(r)!=g)?u(new v(_(t)),r,N):_(t)},I=a?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;I.length>w;w++)s(v,y=I[w])&&!s(N,y)&&b(N,y,p(v,y));N.prototype=F,F.constructor=N,i(n,g,N)}},b0c0:function(e,t,r){var a=r("83ab"),n=r("9bf2").f,o=Function.prototype,i=o.toString,s=/^\s*function ([^ (]*)/,l="name";!a||l in o||n(o,l,{configurable:!0,get:function(){try{return i.call(this).match(s)[1]}catch(e){return""}}})},db58:function(e,t,r){}}]);
//# sourceMappingURL=chunk-59d1f6e2.9222117a.js.map