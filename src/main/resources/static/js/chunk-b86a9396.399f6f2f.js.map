{"version":3,"sources":["webpack:///./src/components/admin/ad_order.vue?528d","webpack:///./src/components/admin/ad_order.vue?eced","webpack:///src/components/admin/ad_order.vue","webpack:///./src/components/admin/ad_order.vue?345b","webpack:///./src/components/admin/ad_order.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","tableData","slice","currpage","pagesize","background","color","setDate","formatBoolean","scopedSlots","_u","key","fn","scope","nativeOn","$event","type","indexOf","_k","keyCode","select","$index","row","model","value","callback","$$v","sel","expression","on","handleDelete","_v","exportExcel","length","handleSizeChange","handleCurrentChange","staticRenderFns","inject","components","adbar","data","currpagePage1","created","loadData","mounted","$once","clearInterval","timer","methods","val","readyData","JSON","stringify","orderName","$axios","post","handleSee","postContent2","postContent","console","log","orderId","orderStatus","cellValue","newdate","column","property","undefined","wb","wbout","bookType","bookSST","e","component"],"mappings":"yIAAA,yBAAie,EAAG,G,yCCApe,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,eAAe,CAACE,YAAY,CAAC,OAAS,QAAQ,OAAS,mBAAmB,CAACF,EAAG,SAASA,EAAG,eAAe,CAACA,EAAG,YAAY,CAACE,YAAY,CAAC,aAAa,QAAQ,YAAY,SAAS,CAACF,EAAG,aAAa,GAAGA,EAAG,UAAU,CAACE,YAAY,CAAC,OAAS,MAAM,QAAU,QAAQ,CAACF,EAAG,WAAW,CAACE,YAAY,CAAC,MAAQ,QAAQC,MAAM,CAAC,KAAOP,EAAIQ,UAAUC,OAAOT,EAAIU,SAAS,GAAGV,EAAIW,SAASX,EAAIU,SAASV,EAAIW,UAAU,oBAAoB,CAACC,WAAW,UAAUC,MAAM,WAAW,GAAK,cAAc,CAACT,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,UAAU,MAAQ,OAAO,MAAQ,UAAUH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,YAAY,MAAQ,SAASH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,aAAa,MAAQ,QAAQH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,YAAY,MAAQ,OAAO,UAAYP,EAAIc,WAAWV,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,cAAc,MAAQ,UAAUH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,cAAc,MAAQ,UAAUH,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,cAAc,MAAQ,OAAO,UAAYP,EAAIe,iBAAiBX,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,QAAQ,MAAQ,UAAUS,YAAYhB,EAAIiB,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,SAASC,GAAO,MAAO,CAAChB,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,OAAO,YAAc,SAASc,SAAS,CAAC,MAAQ,SAASC,GAAQ,OAAIA,EAAOC,KAAKC,QAAQ,QAAQxB,EAAIyB,GAAGH,EAAOI,QAAQ,QAAQ,GAAGJ,EAAOJ,IAAI,SAAkB,KAAclB,EAAI2B,OAAOP,EAAMQ,OAAOR,EAAMS,OAAOC,MAAM,CAACC,MAAO/B,EAAO,IAAEgC,SAAS,SAAUC,GAAMjC,EAAIkC,IAAID,GAAKE,WAAW,YAAY,CAACjB,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAAChB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,OAAO,KAAO,UAAU6B,GAAG,CAAC,MAAQ,SAASd,GAAQ,OAAOtB,EAAIqC,aAAajB,EAAMQ,OAAQR,EAAMS,QAAQ,CAAC7B,EAAIsC,GAAG,gBAAgB,GAAGlC,EAAG,YAAY,CAACE,YAAY,CAAC,MAAQ,QAAQ,aAAa,QAAQC,MAAM,CAAC,KAAO,OAAO,KAAO,UAAU,MAAQ,IAAI6B,GAAG,CAAC,MAAQpC,EAAIuC,cAAc,CAACvC,EAAIsC,GAAG,aAAalC,EAAG,gBAAgB,CAACE,YAAY,CAAC,cAAc,QAAQC,MAAM,CAAC,WAAa,GAAG,OAAS,uCAAuC,MAAQP,EAAIQ,UAAUgC,OAAO,aAAa,CAAC,EAAG,GAAI,IAAI,YAAYxC,EAAIW,SAAS,eAAeX,EAAIU,UAAU0B,GAAG,CAAC,cAAcpC,EAAIyC,iBAAiB,iBAAiBzC,EAAI0C,wBAAwB,IAAI,IAAI,IAAI,IACltEC,EAAkB,G,uFCoDtB,GACEC,OAAQ,CAAC,UACTC,WAAY,CACVC,MAAJ,OAAI,SAAJ,QAEEC,KAAM,WACJ,MAAO,CACLC,cAAe,EACfrC,SAAU,GACVD,SAAU,EACVwB,IAAK,GACL1B,UAAW,CACjB,CACQ,QAAR,GACQ,UAAR,GACQ,WAAR,GACQ,UAAR,GACQ,YAAR,GACQ,YAAR,GACQ,YAAR,OAKEyC,QAxBF,WAyBIhD,KAAKiD,YAEPC,QA3BF,WA2BA,WACA,0BAEM,EAAN,aACA,KAEIlD,KAAKmD,MAAM,sBAAsB,WAC/BC,cAAcC,OAGlBC,QAAS,CACPd,iBADJ,SACA,GACMxC,KAAKU,SAAW6C,GAElBd,oBAJJ,SAIA,GACMzC,KAAKS,SAAW8C,GAElB7B,OAPJ,SAOA,gBACU8B,EAAYC,KAAKC,UAAU,CAC7BC,UAAW3D,KAAKiC,MAElBjC,KAAK4D,OAAOC,KAAK,kBAAmBL,GAC1C,kBACA,IACU,EAAV,qBAGA,mBAAQ,eAAR,mBAEIM,UAAW,SAAf,KACM9D,KAAK+D,aAAenC,EAAIoC,YACxBC,QAAQC,IAAIlE,KAAK+D,eAEnB3B,aAAc,SAAlB,gBACUoB,EAAYC,KAAKC,UAAU,CAC7BS,QAASvC,EAAIuC,UAEfnE,KAAK4D,OAAOC,KAAK,qBAAsBL,GAC7C,kBACA,mBACU,EAAV,SACA,kBACU,EAAV,0BACY,kBAAZ,KACY,KAAZ,eAIA,mBAKQ,OAJA,EAAR,0BACU,kBAAV,KACU,KAAV,YAEQ,QAAR,mBAGIP,SA9CJ,WA8CA,WACMjD,KAAK4D,OAAOC,KAAK,uBACvB,kBACA,oBACU,EAAV,qBAGA,mBAAQ,eAAR,mBAEI/C,cAAe,SAAnB,OAOM,OANAd,KAAKoE,YAAc,GAEjBpE,KAAKoE,YADHC,EACiB,IAEA,IAEdrE,KAAKoE,aAEdvD,QAhEJ,SAgEA,KACM,IAAIyD,EAAU1C,EAAI2C,EAAOC,UACzB,YAAgBC,IAAZH,EACK,GAEF,IAAb,kCAEIhC,YAvEJ,WAyEM,IAAIoC,EAAK,EAAf,4DAEUC,EAAQ,EAAlB,WACQC,SAAU,OACVC,SAAS,EACTvD,KAAM,UAER,IACE,EAAR,SAKQ,IAAR,UAAU,KAAV,6BAEQ,gBAER,SAC+B,qBAAZ2C,SAAyBA,QAAQC,IAAIY,EAAGH,GAErD,OAAOA,KCvLoV,I,wBCQ7VI,EAAY,eACd,EACAjF,EACA4C,GACA,EACA,KACA,KACA,MAIa,aAAAqC,E","file":"js/chunk-b86a9396.399f6f2f.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ad_order.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ad_order.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-container',{staticStyle:{\"height\":\"960px\",\"border\":\"1px solid #eee\"}},[_c('adbar'),_c('el-container',[_c('el-header',{staticStyle:{\"text-align\":\"right\",\"font-size\":\"12px\"}},[_c('adheader')],1),_c('el-main',{staticStyle:{\"margin\":\"0px\",\"padding\":\"0px\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData.slice((_vm.currpage-1)*_vm.pagesize,_vm.currpage*_vm.pagesize),\"header-cell-style\":{background:'#F4F4F4',color:'#3C3C3C'},\"id\":\"tableData\"}},[_c('el-table-column',{attrs:{\"prop\":\"orderId\",\"label\":\"订单ID\",\"width\":\"80px\"}}),_c('el-table-column',{attrs:{\"prop\":\"orderName\",\"label\":\"游戏名\"}}),_c('el-table-column',{attrs:{\"prop\":\"orderPrice\",\"label\":\"价格\"}}),_c('el-table-column',{attrs:{\"prop\":\"orderTime\",\"label\":\"下单时间\",\"formatter\":_vm.setDate}}),_c('el-table-column',{attrs:{\"prop\":\"orderGameid\",\"label\":\"游戏ID\"}}),_c('el-table-column',{attrs:{\"prop\":\"orderUserid\",\"label\":\"用户ID\"}}),_c('el-table-column',{attrs:{\"prop\":\"orderStatus\",\"label\":\"是否付款\",\"formatter\":_vm.formatBoolean}}),_c('el-table-column',{attrs:{\"align\":\"right\",\"width\":\"200px;\"},scopedSlots:_vm._u([{key:\"header\",fn:function(scope){return [_c('el-input',{attrs:{\"size\":\"mini\",\"placeholder\":\"输入关键字\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.select(scope.$index,scope.row)}},model:{value:(_vm.sel),callback:function ($$v) {_vm.sel=$$v},expression:\"sel\"}})]}},{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-top\":\"20px\"},attrs:{\"size\":\"mini\",\"type\":\"success\",\"plain\":\"\"},on:{\"click\":_vm.exportExcel}},[_vm._v(\"点击Excel\")]),_c('el-pagination',{staticStyle:{\"padding-top\":\"20px\"},attrs:{\"background\":\"\",\"layout\":\"total,sizes,prev, pager, next,jumper\",\"total\":_vm.tableData.length,\"page-sizes\":[5, 10, 20],\"page-size\":_vm.pagesize,\"current-page\":_vm.currpage},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-container style=\"height: 960px; border: 1px solid #eee\">\r\n      <adbar></adbar>\r\n      <el-container>\r\n        <el-header style=\"text-align: right; font-size: 12px\">\r\n          <adheader></adheader>\r\n        </el-header>\r\n        <el-main style=\"margin:0px;padding:0px;\">\r\n          <el-table\r\n            :data=\"tableData.slice((currpage-1)*pagesize,currpage*pagesize)\"\r\n            :header-cell-style=\"{background:'#F4F4F4',color:'#3C3C3C'}\" style=\"width: 100%\" id=\"tableData\">\r\n            <el-table-column prop=\"orderId\" label=\"订单ID\" width=\"80px\"></el-table-column>\r\n            <el-table-column prop=\"orderName\" label=\"游戏名\"></el-table-column>\r\n            <el-table-column prop=\"orderPrice\" label=\"价格\" ></el-table-column>\r\n            <el-table-column prop=\"orderTime\" label=\"下单时间\" :formatter=\"setDate\" ></el-table-column>\r\n            <el-table-column prop=\"orderGameid\" label=\"游戏ID\"></el-table-column>\r\n            <el-table-column prop=\"orderUserid\" label=\"用户ID\"></el-table-column>\r\n            <el-table-column prop=\"orderStatus\" label=\"是否付款\" :formatter=\"formatBoolean\"></el-table-column>\r\n            <el-table-column align=\"right\" width=\"200px;\">\r\n              <template slot=\"header\" slot-scope=\"scope\">\r\n                <el-input v-model=\"sel\" @keyup.enter.native=\"select(scope.$index,scope.row)\" size=\"mini\"  placeholder=\"输入关键字\" />\r\n              </template>\r\n              <template slot-scope=\"scope\">\r\n                <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          <el-button style=\"float:right;margin-top:20px;\" size=\"mini\" type=\"success\" plain @click=\"exportExcel\">点击Excel</el-button>\r\n          <el-pagination\r\n            background\r\n            layout=\"total,sizes,prev, pager, next,jumper\"\r\n            :total=\"tableData.length\"\r\n            :page-sizes=\"[5, 10, 20]\"\r\n            :page-size=\"pagesize\"\r\n            :current-page=\"currpage\"\r\n            style=\"padding-top:20px;\"\r\n            @size-change=\"handleSizeChange\"\r\n            @current-change=\"handleCurrentChange\">\r\n          </el-pagination>\r\n        </el-main>\r\n      </el-container>\r\n    </el-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport adbar from './admin_sidebar.vue'\r\nimport moment from 'moment'\r\nimport adheader from './ad_header.vue'\r\nimport FileSaver from 'file-saver'\r\nimport XLSX from 'xlsx'\r\n\r\nexport default {\r\n  inject: ['reload'],\r\n  components: {\r\n    adbar, adheader\r\n  },\r\n  data: function () {\r\n    return {\r\n      currpagePage1: 1,\r\n      pagesize: 10,\r\n      currpage: 1,\r\n      sel: '',\r\n      tableData: [\r\n        {\r\n          orderId: '',\r\n          orderName: '',\r\n          orderPrice: '',\r\n          orderTime: '',\r\n          orderGameid: '',\r\n          orderUserid: '',\r\n          orderStatus: ''\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  created () {\r\n    this.loadData()\r\n  },\r\n  mounted () {\r\n    const timer = setInterval(() => {\r\n      // 某些定时器操作\r\n      this.loadData()\r\n    }, 3000)\r\n    // 通过$once来监听定时器，在beforeDestroy钩子可以被清除。\r\n    this.$once('hook:beforeDestroy', () => {\r\n      clearInterval(timer)\r\n    })\r\n  },\r\n  methods: {\r\n    handleSizeChange (val) {\r\n      this.pagesize = val\r\n    },\r\n    handleCurrentChange (val) {\r\n      this.currpage = val\r\n    },\r\n    select (index, row) {\r\n      var readyData = JSON.stringify({\r\n        orderName: this.sel\r\n      })\r\n      this.$axios.post('/order/showlike', readyData)\r\n        .then((res) => {\r\n          if (res) {\r\n            this.tableData = res.data\r\n          }\r\n        })\r\n        .catch((err) => { console.log('err', err); return err })\r\n    },\r\n    handleSee: function (index, row) {\r\n      this.postContent2 = row.postContent\r\n      console.log(this.postContent2)\r\n    },\r\n    handleDelete: function (index, row) {\r\n      var readyData = JSON.stringify({\r\n        orderId: row.orderId\r\n      })\r\n      this.$axios.post('/order/deleteorder', readyData)\r\n        .then((res) => {\r\n          if (res.data === 'success') {\r\n            this.reload()\r\n          } else if (res.data === 'error') {\r\n            this.$alert('发生了意料之外的错误', '提示', {\r\n              confirmButtonText: '确定',\r\n              type: 'warning'\r\n            })\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.$alert('发生了意料之外的错误', '提示', {\r\n            confirmButtonText: '确定',\r\n            type: 'warning'\r\n          })\r\n          console.log('err', err); return err\r\n        })\r\n    },\r\n    loadData () {\r\n      this.$axios.post('/order/showallorder')\r\n        .then((res) => {\r\n          if (res && res.status === 200) {\r\n            this.tableData = res.data\r\n          }\r\n        })\r\n        .catch((err) => { console.log('err', err); return err })\r\n    },\r\n    formatBoolean: function (row, column, cellValue) {\r\n      this.orderStatus = ''\r\n      if (cellValue) {\r\n        this.orderStatus = '是'\r\n      } else {\r\n        this.orderStatus = '否'\r\n      }\r\n      return this.orderStatus\r\n    },\r\n    setDate (row, column) {\r\n      var newdate = row[column.property]\r\n      if (newdate === undefined) {\r\n        return ''\r\n      };\r\n      return moment(newdate).format('YYYY-MM-DD HH:mm:ss')\r\n    },\r\n    exportExcel () {\r\n      /* 从表生成工作簿对象 */\r\n      var wb = XLSX.utils.table_to_book(document.querySelector('#tableData'))\r\n      /* 获取二进制字符串作为输出 */\r\n      var wbout = XLSX.write(wb, {\r\n        bookType: 'xlsx',\r\n        bookSST: true,\r\n        type: 'array'\r\n      })\r\n      try {\r\n        FileSaver.saveAs(\r\n          // Blob 对象表示一个不可变、原始数据的类文件对象。\r\n          // Blob 表示的不一定是JavaScript原生格式的数据。\r\n          // File 接口基于Blob，继承了 blob 的功能并将其扩展使其支持用户系统上的文件。\r\n          // 返回一个新创建的 Blob 对象，其内容由参数中给定的数组串联组成。\r\n          new Blob([wbout], { type: 'application/octet-stream' }),\r\n          // 设置导出文件名称\r\n          'sheetjs.xlsx'\r\n        )\r\n      } catch (e) {\r\n        if (typeof console !== 'undefined') console.log(e, wbout)\r\n      }\r\n      return wbout\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.el-header {\r\n  background-color: #7D7DFF;\r\n  color: #333;\r\n  line-height: 60px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ad_order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ad_order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ad_order.vue?vue&type=template&id=f2279b36&\"\nimport script from \"./ad_order.vue?vue&type=script&lang=js&\"\nexport * from \"./ad_order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ad_order.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}