(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bafaec1"],{"0c33":function(t,e,s){},"25e2":function(t,e,s){},"29e5":function(t,e,s){"use strict";var o=s("ac9b"),n=s.n(o);n.a},"4e82":function(t,e,s){"use strict";var o=s("23e7"),n=s("1c0b"),a=s("7b0b"),i=s("d039"),r=s("b301"),c=[].sort,l=[1,2,3],u=i((function(){l.sort(void 0)})),m=i((function(){l.sort(null)})),d=r("sort"),h=u||!m||d;o({target:"Array",proto:!0,forced:h},{sort:function(t){return void 0===t?c.call(a(this)):c.call(a(this),n(t))}})},"5d94":function(t,e,s){"use strict";var o=s("8964"),n=s.n(o);n.a},"6ad8":function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("div",{staticClass:"aside"},[s("div",[s("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"前往购物车",placement:"left"}},[s("el-button",{staticClass:"cartbtn",attrs:{type:"primary"},on:{click:function(e){return t.skipcart()}}},[s("i",{staticClass:"el-icon-shopping-cart-full"})])],1)],1),s("div",[s("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"前往收藏夹",placement:"left"}},[s("el-button",{staticClass:"collectionbtn",attrs:{type:"primary"},on:{click:function(e){return t.skipfav()}}},[s("i",{staticClass:"el-icon-collection-tag"})])],1)],1),s("div",[s("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"前往消息",placement:"left"}},[s("el-button",{staticClass:"cartbtn",attrs:{type:"primary"},on:{click:function(e){return t.skipmsg()}}},[s("i",{staticClass:"el-icon-chat-line-round"})])],1)],1)])])},n=[],a={inject:["reload"],data:function(){return{userId:""}},created:function(){this.userId=sessionStorage.getItem("userId")},methods:{skipcart:function(){this.$router.push({path:"/shoppingCart"})},skipfav:function(){this.$router.push({path:"/favorites"})},skipmsg:function(){this.$router.push({path:"/privatemsg"})}}},i=a,r=(s("a773"),s("2877")),c=Object(r["a"])(i,o,n,!1,null,"29c65355",null);e["a"]=c.exports},8964:function(t,e,s){},"927d":function(t,e,s){"use strict";var o=s("25e2"),n=s.n(o);n.a},a724:function(t,e,s){},a773:function(t,e,s){"use strict";var o=s("b3f3"),n=s.n(o);n.a},ac9b:function(t,e,s){},ae2a:function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-row",{staticClass:"row",attrs:{gutter:21}},[s("el-col",{attrs:{span:3}},[s("el-image",{staticStyle:{width:"100px",height:"50px","padding-top":"5px"},attrs:{src:t.url,fit:"contain"}})],1),s("el-col",{attrs:{span:6}},[s("el-menu",{attrs:{router:"","default-active":t.activeIndex,mode:"horizontal"},on:{select:t.handleSelect}},[s("el-menu-item",{attrs:{index:"/index"}},[t._v("首页")]),s("el-submenu",{attrs:{index:"2"}},[s("template",{slot:"title"},[t._v("游戏")]),t._l(t.sort,(function(e,o){return s("el-menu-item",{key:o,on:{click:function(e){return t.jump(o)}}},[t._v(t._s(e.sortName))])})),s("hr"),s("el-menu-item",{attrs:{index:"/allgame"}},[t._v("查看所有游戏")])],2),s("el-menu-item",{attrs:{index:"/community"}},[t._v("社区")])],1)],1),s("el-col",{attrs:{span:6}},[s("el-input",{staticClass:"sel",attrs:{placeholder:"请输入关键字"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()}},model:{value:t.sel,callback:function(e){t.sel=e},expression:"sel"}})],1),s("el-col",{attrs:{span:4}},[s("div",{staticClass:"selbtn"},[s("el-button",{attrs:{type:"primary",icon:"el-icon-search",plain:""},on:{click:function(e){return t.search()}}},[t._v("搜索")])],1)]),s("el-col",{attrs:{span:5}},[t.loginbol?t._e():s("div",{staticStyle:{"padding-top":"10px"}},[s("el-button",{attrs:{type:"text"},on:{click:function(e){return t.out()}}},[t._v("登陆注册")])],1),t.loginbol?s("div",{staticClass:"demo-type"},[s("el-popover",{staticClass:"popover",attrs:{placement:"top-start",trigger:"hover"}},[s("el-avatar",{attrs:{slot:"reference",size:"medium",plain:!0},on:{error:t.errorHandler},slot:"reference"},[t.loginbol?t._e():s("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"},on:{click:function(e){return t.skips()}}}),t.loginbol?s("img",{attrs:{src:t.userpic},on:{click:function(e){return t.skips()}}}):t._e()]),t.loginbol?s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.toMydata()}}},[t._v("个人中心")]):t._e(),s("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.out()}}},[t.loginbol?s("span",[t._v("登出")]):t._e()])],1)],1):t._e()])],1)},n=[],a=(s("4e82"),s("b640")),i=s.n(a),r={data:function(){return{url:i.a,activeIndex:"/index",sel:"",userpic:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png",userId:"",msgs:"",thisName:"",refash:!1,loginbol:!1,sort:[{sortName:""}]}},created:function(){this.userId=sessionStorage.getItem("userId"),this.loadSort(),this.loadAvatar(),this.loadMsgData()},mounted:function(){var t=this,e=setInterval((function(){t.loadMsgData2(),t.refash&&t.ShowMsg()}),3e3);this.$once("hook:beforeDestroy",(function(){clearInterval(e)}))},methods:{loadAvatar:function(){var t=this,e=JSON.stringify({userinfoId:this.userId});this.$axios.post("/user/showuser",e).then((function(e){e.data?(e.data.userinfoImg&&(t.userpic=e.data.userinfoImg),t.loginbol=!0):t.loginbol=!1})).catch((function(t){return console.log("err",t),t}))},loadSort:function(){var t=this;this.$axios.post("/sort/showsort").then((function(e){e&&(t.sort=e.data)})).catch((function(t){return console.log("err",t),t}))},loadMsgData:function(){var t=this,e=JSON.stringify({privatemsgAcceptid:this.userId});this.$axios.post("/msg/refreshmsg",e).then((function(e){e&&t.msgs!==e.data.privatemsgContent&&(t.msgs=e.data.privatemsgContent,t.thisName=e.data.privatemsgSendname)})).catch((function(t){return console.log("err",t),t}))},loadMsgData2:function(){var t=this,e=JSON.stringify({privatemsgAcceptid:this.userId});this.$axios.post("/msg/refreshmsg",e).then((function(e){e&&(t.msgs!==e.data.privatemsgContent?(t.msgs=e.data.privatemsgContent,t.thisName=e.data.privatemsgSendname,t.refash=!0):t.refash=!1)})).catch((function(t){return console.log("err",t),t}))},ShowMsg:function(){this.$notify({title:this.thisName,iconClass:"el-icon-chat-dot-round",message:this.msgs})},handleSelect:function(t,e){console.log(t,e)},out:function(){this.$router.push({path:"/us_login"}),sessionStorage.removeItem("userId")},search:function(){this.$router.push({path:"/selgame",query:{sel:this.sel}})},errorHandler:function(){return!0},jump:function(t){this.$router.push({path:"/allgame",query:{sortname:this.sort[t].sortName}})},skips:function(){this.loginbol?this.$router.push({path:"/othersdata",query:{thisId:this.userId}}):this.$message.error("请先登陆")},toMydata:function(){this.loginbol?this.$router.push({path:"/mydata"}):this.$message.error("请先登陆")}}},c=r,l=(s("c382"),s("2877")),u=Object(l["a"])(c,o,n,!1,null,null,null);e["a"]=u.exports},b0c0:function(t,e,s){var o=s("83ab"),n=s("9bf2").f,a=Function.prototype,i=a.toString,r=/^\s*function ([^ (]*)/,c="name";!o||c in a||n(a,c,{configurable:!0,get:function(){try{return i.call(this).match(r)[1]}catch(t){return""}}})},b301:function(t,e,s){"use strict";var o=s("d039");t.exports=function(t,e){var s=[][t];return!s||!o((function(){s.call(null,e||function(){throw 1},1)}))}},b3f3:function(t,e,s){},b640:function(t,e,s){t.exports=s.p+"img/logo.78c810f6.jpg"},c382:function(t,e,s){"use strict";var o=s("0c33"),n=s.n(o);n.a},c5a3:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-container",[s("el-header",[s("indexheader")],1),s("el-container",[s("el-main",{staticClass:"main"},[s("hr",{staticClass:"line"}),s("div",[s("otherdetail",{attrs:{thisId:t.thisId}})],1)]),this.userId?s("asides"):t._e()],1)],1)],1)},n=[],a=s("ae2a"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"databox"},[t.userinfoImg?s("el-image",{staticClass:"oimage",attrs:{src:t.userinfoImg}}):t._e(),t.userinfoImg?t._e():s("img",{staticClass:"oimage",attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}}),s("h2",[t._v(t._s(t.userinfoName))]),t.mybol?s("el-button",{staticStyle:{width:"150px"},attrs:{type:"primary"},on:{click:function(e){return t.opendialog()}}},[s("i",{staticClass:"el-icon-message"}),t._v(" 私信 ")]):t._e(),s("el-tabs",{staticClass:"nav",attrs:{"tab-position":"top"}},[s("el-tab-pane",{attrs:{label:"游戏"}},[s("div",[s("el-table",{staticStyle:{width:"1000px",padding:"0px","font-size":"20px"},attrs:{data:t.gamedata}},[s("el-table-column",{attrs:{prop:"gameImg",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("el-image",{staticClass:"img",attrs:{src:t.row.gameImg}})]}}])}),s("el-table-column",{attrs:{prop:"orderName",width:"650px"}}),s("el-table-column",{attrs:{width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"primary"},on:{click:function(s){return t.search1(e.$index,e.row)}}},[t._v("查看游戏")])]}}])})],1)],1)]),s("el-tab-pane",{attrs:{label:"收藏"}},[s("el-table",{staticStyle:{width:"1000px",padding:"0px","font-size":"20px"},attrs:{data:t.collectdata,height:"120px;"}},[s("el-table-column",{attrs:{prop:"collectionImg",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(t){return[s("el-image",{staticClass:"img",attrs:{src:t.row.collectionImg}})]}}])}),s("el-table-column",{attrs:{prop:"collectionName",width:"650px"}}),s("el-table-column",{attrs:{width:"150px"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"primary"},on:{click:function(s){return t.search2(e.$index,e.row)}}},[t._v("查看游戏")])]}}])})],1)],1),s("el-tab-pane",{attrs:{label:"帖子"}},[s("otherpost",{attrs:{thisId:t.thisId}})],1),s("el-tab-pane",{attrs:{label:"评论"}},[s("othercommon",{attrs:{thisId:t.thisId}})],1)],1),s("div",[s("el-dialog",{attrs:{title:"私信",visible:t.msgdialog,width:"20%","before-close":t.closeDialog},on:{"update:visible":function(e){t.msgdialog=e}}},[s("el-form",{ref:"msgform",attrs:{model:t.msgform}},[s("el-form-item",{attrs:{prop:"userName"}},[s("el-input",{attrs:{autocomplete:"off",placeholder:"请输入用户名"},model:{value:t.msgform.name,callback:function(e){t.$set(t.msgform,"name",e)},expression:"msgform.name"}})],1),s("el-form-item",{attrs:{prop:"msg"}},[s("el-input",{attrs:{maxlength:"60",type:"textarea",rows:3,placeholder:"不超过60字"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.send()}},model:{value:t.msgform.msg,callback:function(e){t.$set(t.msgform,"msg",e)},expression:"msgform.msg"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.send()}}},[t._v("发 送")])],1)],1)],1)],1)},r=[],c=(s("b0c0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.otherpost}},[s("el-table-column",{attrs:{width:"1000px;"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",[s("el-button",{staticClass:"title",attrs:{type:"text"},on:{click:function(s){return t.skip(e.$index,e.row)}}},[t._v(t._s(e.row.postTitle))])],1),s("p",{staticClass:"content"},[s("span",[t._v(t._s(e.row.postContent))])])]}}])})],1)],1)}),l=[],u={props:["thisId"],data:function(){return{otherpost:[{postTitle:"",postContent:""}]}},created:function(){this.loadDate()},methods:{loadDate:function(){var t=this;if(this.thisId){var e=JSON.stringify({postUserid:this.thisId});this.$axios.post("/post/showpost",e).then((function(e){e&&200===e.status&&(t.otherpost=e.data,console.log(t.otherpost))})).catch((function(t){return console.log("err",t),t}))}else this.otherpost=null},skip:function(t,e){this.$router.push({path:"/post",query:{postid:e.postId}})}}},m=u,d=(s("5d94"),s("2877")),h=Object(d["a"])(m,c,l,!1,null,"7da9d953",null),p=h.exports,f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.othercommon}},[s("el-table-column",{attrs:{width:"1000px;"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",[s("el-button",{staticClass:"title",attrs:{type:"text"},on:{click:function(s){return t.skip(e.$index,e.row)}}},[t._v(t._s(e.row.commentPostname))])],1),s("p",[s("i",{staticClass:"el-icon-chat-square"}),t._v("： "),s("span",{staticClass:"content"},[t._v(t._s(e.row.commentContent))]),s("span",{staticClass:"times"},[t._v(t._s(t._f("dateFmt")(e.row.commentTime,"YYYY-MM-DD HH:mm:ss")))])])]}}])})],1)],1)},g=[],v={props:["thisId"],data:function(){return{othercommon:[{commentPostid:"",commentPostname:"",commentContent:"",commentTime:""}]}},created:function(){this.loadDate()},methods:{loadDate:function(){var t=this;if(this.thisId){var e=JSON.stringify({commentUserid:this.thisId});this.$axios.post("/comment/showcomment",e).then((function(e){e&&200===e.status&&(t.othercommon=e.data)})).catch((function(t){return console.log("err",t),t}))}else this.othercommon=null},skip:function(t,e){e.commentPostid?this.$router.push({path:"/post",query:{postid:e.commentPostid}}):this.$message({message:"你评论的帖子已经被删除了",type:"error"})}}},b=v,y=(s("de84"),Object(d["a"])(b,f,g,!1,null,"5f323ff1",null)),I=y.exports,x={props:["thisId"],components:{otherpost:p,othercommon:I},data:function(){return{userId:"",userinfoName:"",userinfoImg:"",mybol:!0,msgdialog:!1,myName:"",gamedata:[{gameImg:"",orderName:"",orderGameid:""}],collectdata:[{collectionImg:"",collectionName:"",collectionGameid:""}],msgform:[{name:"",msg:""}]}},created:function(){this.userId=sessionStorage.getItem("userId"),this.thisId===this.userId?this.mybol=!1:this.userId||(this.mybol=!1),this.loadUserDate(),this.loadGameData(),this.loadCollectData(),this.getMyname()},methods:{loadUserDate:function(){var t=this,e=JSON.stringify({userinfoId:this.thisId});this.$axios.post("/user/showuser",e).then((function(e){e&&(t.userinfoImg=e.data.userinfoImg,t.userinfoName=e.data.userinfoName)})).catch((function(t){return console.log("err",t),t}))},loadGameData:function(){var t=this,e=JSON.stringify({orderUserid:this.thisId});this.$axios.post("/order/ordernorepeat",e).then((function(e){e&&200===e.status&&(t.gamedata=e.data)})).catch((function(t){return console.log("err",t),t}))},loadCollectData:function(){var t=this,e=JSON.stringify({collectionUserid:this.thisId});this.$axios.post("/collection/showcollection",e).then((function(e){e&&200===e.status&&(t.collectdata=e.data)})).catch((function(t){return console.log("err",t),t}))},closeDialog:function(){var t=this;this.$nextTick((function(){t.msgdialog=!1,t.$refs["msgform"].resetFields()}))},getMyname:function(){var t=this,e=JSON.stringify({userinfoId:this.userId});this.$axios.post("/user/showuser",e).then((function(e){e&&(t.myName=e.data.userinfoName)})).catch((function(t){return console.log("err",t),t}))},opendialog:function(){this.userId?(this.msgform.name=this.userinfoName,this.msgdialog=!0):this.$message({message:"请先登陆",type:"error"})},send:function(){var t=this;if(this.myName===this.msgform.name)this.$message({message:"不能和自己私信",type:"error"});else{var e=JSON.stringify({privatemsgSendid:this.userId,privatemsgSendname:this.myName,privatemsgAcceptid:this.thisId,privatemsgAcceptname:this.msgform.name,privatemsgContent:this.msgform.msg});this.$axios.post("/msg/send",e).then((function(e){e?(t.closeDialog(),t.$message({message:"发送成功",type:"success"})):(t.$message({message:"发送失败",type:"error"}),t.msgdialog=!0)})).catch((function(t){return console.log("err",t),t}))}},search1:function(t,e){e.orderGameid?this.$router.push({path:"/detailedgame",query:{gameid:e.orderGameid}}):this.$message({message:"商品已经不存在",type:"error"})},search2:function(t,e){e.collectionGameid?this.$router.push({path:"/detailedgame",query:{gameid:e.collectionGameid}}):this.$message({message:"商品已经不存在",type:"error"})}}},_=x,k=(s("927d"),Object(d["a"])(_,i,r,!1,null,"66488ad4",null)),$=k.exports,C=s("6ad8"),w={inject:["reload"],components:{indexheader:a["a"],otherdetail:$,asides:C["a"]},data:function(){return{userId:""}},created:function(){this.userId=sessionStorage.getItem("userId"),this.getThisid(),this.thisId||(this.$message({message:"用户不存在",type:"error"}),this.$router.push({path:"/post"}))},methods:{getThisid:function(){this.$route.query&&(this.thisId=this.$route.query.thisId)}}},S=w,N=(s("29e5"),Object(d["a"])(S,o,n,!1,null,null,null));e["default"]=N.exports},de84:function(t,e,s){"use strict";var o=s("a724"),n=s.n(o);n.a}}]);
//# sourceMappingURL=chunk-2bafaec1.5c0e2870.js.map