(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b86a9396"],{"5bca":function(e,t,a){},b4ed:function(e,t,a){"use strict";var r=a("5bca"),n=a.n(r);n.a},edb1:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-container",{staticStyle:{height:"960px",border:"1px solid #eee"}},[a("adbar"),a("el-container",[a("el-header",{staticStyle:{"text-align":"right","font-size":"12px"}},[a("adheader")],1),a("el-main",{staticStyle:{margin:"0px",padding:"0px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currpage-1)*e.pagesize,e.currpage*e.pagesize),"header-cell-style":{background:"#F4F4F4",color:"#3C3C3C"},id:"tableData"}},[a("el-table-column",{attrs:{prop:"orderId",label:"订单ID",width:"80px"}}),a("el-table-column",{attrs:{prop:"orderName",label:"游戏名"}}),a("el-table-column",{attrs:{prop:"orderPrice",label:"价格"}}),a("el-table-column",{attrs:{prop:"orderTime",label:"下单时间",formatter:e.setDate}}),a("el-table-column",{attrs:{prop:"orderGameid",label:"游戏ID"}}),a("el-table-column",{attrs:{prop:"orderUserid",label:"用户ID"}}),a("el-table-column",{attrs:{prop:"orderStatus",label:"是否付款",formatter:e.formatBoolean}}),a("el-table-column",{attrs:{align:"right",width:"200px;"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-input",{attrs:{size:"mini",placeholder:"输入关键字"},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.select(t.$index,t.row)}},model:{value:e.sel,callback:function(t){e.sel=t},expression:"sel"}})]}},{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("el-button",{staticStyle:{float:"right","margin-top":"20px"},attrs:{size:"mini",type:"success",plain:""},on:{click:e.exportExcel}},[e._v("点击Excel")]),a("el-pagination",{staticStyle:{"padding-top":"20px"},attrs:{background:"",layout:"total,sizes,prev, pager, next,jumper",total:e.tableData.length,"page-sizes":[5,10,20],"page-size":e.pagesize,"current-page":e.currpage},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)],1)},n=[],o=a("6f30"),l=a("c1df"),i=a.n(l),s=a("8385"),c=a("21a6"),d=a.n(c),u=a("1146"),p=a.n(u),h={inject:["reload"],components:{adbar:o["a"],adheader:s["a"]},data:function(){return{currpagePage1:1,pagesize:10,currpage:1,sel:"",tableData:[{orderId:"",orderName:"",orderPrice:"",orderTime:"",orderGameid:"",orderUserid:"",orderStatus:""}]}},created:function(){this.loadData()},mounted:function(){var e=this,t=setInterval((function(){e.loadData()}),3e3);this.$once("hook:beforeDestroy",(function(){clearInterval(t)}))},methods:{handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currpage=e},select:function(e,t){var a=this,r=JSON.stringify({orderName:this.sel});this.$axios.post("/order/showlike",r).then((function(e){e&&(a.tableData=e.data)})).catch((function(e){return console.log("err",e),e}))},handleSee:function(e,t){this.postContent2=t.postContent,console.log(this.postContent2)},handleDelete:function(e,t){var a=this,r=JSON.stringify({orderId:t.orderId});this.$axios.post("/order/deleteorder",r).then((function(e){"success"===e.data?a.reload():"error"===e.data&&a.$alert("发生了意料之外的错误","提示",{confirmButtonText:"确定",type:"warning"})})).catch((function(e){return a.$alert("发生了意料之外的错误","提示",{confirmButtonText:"确定",type:"warning"}),console.log("err",e),e}))},loadData:function(){var e=this;this.$axios.post("/order/showallorder").then((function(t){t&&200===t.status&&(e.tableData=t.data)})).catch((function(e){return console.log("err",e),e}))},formatBoolean:function(e,t,a){return this.orderStatus="",this.orderStatus=a?"是":"否",this.orderStatus},setDate:function(e,t){var a=e[t.property];return void 0===a?"":i()(a).format("YYYY-MM-DD HH:mm:ss")},exportExcel:function(){var e=p.a.utils.table_to_book(document.querySelector("#tableData")),t=p.a.write(e,{bookType:"xlsx",bookSST:!0,type:"array"});try{d.a.saveAs(new Blob([t],{type:"application/octet-stream"}),"sheetjs.xlsx")}catch(a){"undefined"!==typeof console&&console.log(a,t)}return t}}},f=h,b=(a("b4ed"),a("2877")),g=Object(b["a"])(f,r,n,!1,null,null,null);t["default"]=g.exports}}]);
//# sourceMappingURL=chunk-b86a9396.399f6f2f.js.map